[2025-10-16 18:29:48] INFO — [REQUEST] GET /docs from 127.0.0.1 -> 200 (0.61 ms)
[2025-10-16 18:29:48] INFO — [REQUEST] GET /openapi.json from 127.0.0.1 -> 200 (14.81 ms)
[2025-10-16 18:29:52] INFO — [REQUEST] GET /docs from 127.0.0.1 -> 200 (0.71 ms)
[2025-10-16 18:29:52] INFO — [REQUEST] GET /openapi.json from 127.0.0.1 -> 200 (1.03 ms)
[2025-10-16 18:32:00] ERROR — Unhandled exception at %s
Traceback (most recent call last):

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x1078ad4e0>
    │                        └ Engine(sqlite:///backend/app.db)
    └ <sqlalchemy.engine.base.Connection object at 0x1082f5fd0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 3300, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x10746e980>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
           └ Engine(sqlite:///backend/app.db)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x107498ae0>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x10746f600>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x10749aa20>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/ut...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x108495200>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x10746e700>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x1080df110>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/ut...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x108130700>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x1080df110>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x107d8aca0>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x1080df110>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'check_same_thread': False}
           │       │        └ ['/Users/roksana/Desktop/project/ugc_mp/backend/backend/app.db']
           │       └ <function DefaultDialect.connect at 0x10795a2a0>
           └ <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x107da4830>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 620, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'check_same_thread': False}
           │    │            │        └ ('/Users/roksana/Desktop/project/ugc_mp/backend/backend/app.db',)
           │    │            └ <built-in function connect>
           │    └ <module 'sqlite3.dbapi2' from '/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3....
           └ <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x107da4830>

sqlite3.OperationalError: unable to open database file


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10575b9c0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105648180>
           └ <SpawnProcess name='SpawnProcess-1' parent=35527 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10563b6a0>
    └ <SpawnProcess name='SpawnProcess-1' parent=35527 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x105ec5be0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=35527 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=35527 started>
    │    └ <function subprocess_started at 0x105ec8220>
    └ <SpawnProcess name='SpawnProcess-1' parent=35527 started>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8001)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x105ec5d30>>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8001)>]
           │       │   │    └ <function Server.serve at 0x105eb7240>
           │       │   └ <uvicorn.server.Server object at 0x105ec5d30>
           │       └ <function run at 0x105b88cc0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyn...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x105f0d2a0>
           │      └ <function Runner.run at 0x105c68040>
           └ <asyncio.runners.Runner object at 0x105ec6a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x105c65a80>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x105ec6a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105c659e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105c677e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 2050, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105b89c60>
    └ <Handle Task.task_wakeup()>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10826ea50>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 69, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108286650>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108286650>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10826cec0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10826ea50>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108286650>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108286650>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108286650>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108286650>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10826f620>
          └ <fastapi.applications.FastAPI object at 0x10826cec0>
> File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10832f740>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108286650>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <app.core.middleware.RequestLoggerMiddleware object at 0x10826f4d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10826f620>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x107281da0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [OperationalError('(sqlite3.OperationalError) unable to open database file')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x1082f06c0>
    └ <contextlib._GeneratorContextManager object at 0x1082fbe70>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10832fb00>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x1082aa550>
                     │    └ <bound method RequestLoggerMiddleware.dispatch of <app.core.middleware.RequestLoggerMiddleware object at 0x10826f4d0>>
                     └ <app.core.middleware.RequestLoggerMiddleware object at 0x10826f4d0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 24, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x1082aa550>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10832fb00>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ OperationalError('(sqlite3.OperationalError) unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10832dbc0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10832e340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <app.core.middleware.RateLimitMiddleware object at 0x10826f230>
          └ <app.core.middleware.RequestLoggerMiddleware object at 0x10826f4d0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x107281da0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [OperationalError('(sqlite3.OperationalError) unable to open database file')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x1082f1ff0>
    └ <contextlib._GeneratorContextManager object at 0x1082fb8c0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10832de40>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x1082aa150>
                     │    └ <bound method RateLimitMiddleware.dispatch of <app.core.middleware.RateLimitMiddleware object at 0x10826f230>>
                     └ <app.core.middleware.RateLimitMiddleware object at 0x10826f230>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 73, in dispatch
    return await call_next(request)
                 │         └ <starlette.middleware.base._CachedRequest object at 0x1082aa150>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10832de40>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ OperationalError('(sqlite3.OperationalError) unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10832dd00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10832e160>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10826f0e0>
          └ <app.core.middleware.RateLimitMiddleware object at 0x10826f230>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8001', 'connection': 'keep-alive', 'content-length': '60', 'sec-ch-ua-platform': '"macOS"', 'user...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10832dd00>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10832e160>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x1082a4040>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10826f0e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10826f0e0>>, sen...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10832e160>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10826ef90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10826f0e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10826f0e0>>, sen...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10832e160>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x108314e50>
          │                            │    └ <fastapi.routing.APIRouter object at 0x1082118b0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10826ef90>
          └ <function wrap_app_handling_exceptions at 0x10729f6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10832fba0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10832e160>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          └ <fastapi.routing.APIRouter object at 0x1082118b0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10832fba0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10832e160>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x1082118b0>>
          └ <fastapi.routing.APIRouter object at 0x1082118b0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10832fba0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10832e160>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │     └ <function Route.handle at 0x1072d0f40>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10832fba0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10832e160>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <function request_response.<locals>.app at 0x1082c9440>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10832fba0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10832e160>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x108315150>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10832e2a0>
          └ <function wrap_app_handling_exceptions at 0x10729f6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10832e020>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10832e160>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x10832e2a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x108315150>
                     └ <function get_request_handler.<locals>.app at 0x1082c93a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10729eca0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x1082f5a90>, 'payload': LoginRequest(email='slebronov@mail.ru', password='1...
                 │                 │         └ <function login_user at 0x108167d80>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x108265a90>
                 └ <function run_in_threadpool at 0x1069ae520>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function login_user at 0x108167d80>, db=<sqlalchemy.orm.session.Session object at 0x1082f5a90>, payload=Lo...
                 │     │         └ <function run_sync at 0x1069e4860>
                 │     └ <module 'anyio.to_thread' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/__init__.py'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x1069afce0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=OperationalError('(sqlite3.OperationalError) unable to open database file')>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/api/auth.py", line 67, in login_user
    user = db.scalar(select(User).where(User.email == payload.email))
           │  │      │      │           │    │        │       └ 'slebronov@mail.ru'
           │  │      │      │           │    │        └ LoginRequest(email='slebronov@mail.ru', password='12322828')
           │  │      │      │           │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x10812b420>
           │  │      │      │           └ <class 'app.models.user.User'>
           │  │      │      └ <class 'app.models.user.User'>
           │  │      └ <function select at 0x107858b80>
           │  └ <function Session.scalar at 0x107c15a80>
           └ <sqlalchemy.orm.session.Session object at 0x1082f5a90>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x107c154e0>
           └ <sqlalchemy.orm.session.Session object at 0x1082f5a90>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2226, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(sqlite:///backend/app.db)
           │    └ <function Session._connection_for_bind at 0x107c15260>
           └ <sqlalchemy.orm.session.Session object at 0x1082f5a90>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2095, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(sqlite:///backend/app.db)
           │     └ <function SessionTransaction._connection_for_bind at 0x107c0bba0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x108365090>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(sqlite:///backend/app.db), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x108365090>
                └ <function SessionTransaction._connection_for_bind at 0x107c0bb00>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x1078ad440>
           └ Engine(sqlite:///backend/app.db)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 3276, in connect
    return self._connection_cls(self)
           │    │               └ Engine(sqlite:///backend/app.db)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(sqlite:///backend/app.db)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
    │          └ <classmethod(<function Connection._handle_dbapi_exception_noconnection at 0x1078aaca0>)>
    └ <class 'sqlalchemy.engine.base.Connection'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2440, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ OperationalError('unable to open database file')
          │                    │              └ (<class 'sqlite3.OperationalError'>, OperationalError('unable to open database file'), <traceback object at 0x108495380>)
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('(sqlite3.OperationalError) unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x1078ad4e0>
    │                        └ Engine(sqlite:///backend/app.db)
    └ <sqlalchemy.engine.base.Connection object at 0x1082f5fd0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 3300, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x10746e980>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
           └ Engine(sqlite:///backend/app.db)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x107498ae0>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x10746f600>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x10749aa20>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/ut...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x108495200>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x10746e700>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x1080df110>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/ut...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x108130700>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x1080df110>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x107d8aca0>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x107da4c20>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x1080df110>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'check_same_thread': False}
           │       │        └ ['/Users/roksana/Desktop/project/ugc_mp/backend/backend/app.db']
           │       └ <function DefaultDialect.connect at 0x10795a2a0>
           └ <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x107da4830>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 620, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'check_same_thread': False}
           │    │            │        └ ('/Users/roksana/Desktop/project/ugc_mp/backend/backend/app.db',)
           │    │            └ <built-in function connect>
           │    └ <module 'sqlite3.dbapi2' from '/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3....
           └ <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x107da4830>

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) unable to open database file
(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-10-16 18:35:16] ERROR — Unhandled exception at %s
Traceback (most recent call last):

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x109bed4e0>
    │                        └ Engine(sqlite:///backend/app.db)
    └ <sqlalchemy.engine.base.Connection object at 0x10a636900>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 3300, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x1097ae980>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
           └ Engine(sqlite:///backend/app.db)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1097d8ae0>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1097af600>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x1097daa20>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/ut...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x10a780e00>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x1097ae700>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x10a23b890>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/ut...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x10a780d00>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x10a23b890>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x10a0caca0>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x10a23b890>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'check_same_thread': False}
           │       │        └ ['/Users/roksana/Desktop/project/ugc_mp/backend/backend/app.db']
           │       └ <function DefaultDialect.connect at 0x109c9a2a0>
           └ <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x10a0e4830>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 620, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'check_same_thread': False}
           │    │            │        └ ('/Users/roksana/Desktop/project/ugc_mp/backend/backend/app.db',)
           │    │            └ <built-in function connect>
           │    └ <module 'sqlite3.dbapi2' from '/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3....
           └ <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x10a0e4830>

sqlite3.OperationalError: unable to open database file


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x10304b9c0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102eac180>
           └ <SpawnProcess name='SpawnProcess-1' parent=36257 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e9f6a0>
    └ <SpawnProcess name='SpawnProcess-1' parent=36257 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1081d5be0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=36257 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=36257 started>
    │    └ <function subprocess_started at 0x1081d8220>
    └ <SpawnProcess name='SpawnProcess-1' parent=36257 started>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8001)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1081d5d30>>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8001)>]
           │       │   │    └ <function Server.serve at 0x1081cb240>
           │       │   └ <uvicorn.server.Server object at 0x1081d5d30>
           │       └ <function run at 0x107e98cc0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyn...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x1082192a0>
           │      └ <function Runner.run at 0x107f78040>
           └ <asyncio.runners.Runner object at 0x1081d6a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x107f75a80>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1081d6a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x107f759e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x107f777e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 2050, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x107e99c60>
    └ <Handle Task.task_wakeup()>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a5aea50>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 69, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10a6341a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10a6341a0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10a5acec0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10a5aea50>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10a6341a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10a6341a0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10a6341a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10a6341a0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10a5af620>
          └ <fastapi.applications.FastAPI object at 0x10a5acec0>
> File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10a5eb2e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10a6341a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <app.core.middleware.RequestLoggerMiddleware object at 0x10a5af4d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10a5af620>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x1095c1da0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [OperationalError('(sqlite3.OperationalError) unable to open database file')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10a60c520>
    └ <contextlib._GeneratorContextManager object at 0x10a6388a0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a5eb380>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10a634050>
                     │    └ <bound method RequestLoggerMiddleware.dispatch of <app.core.middleware.RequestLoggerMiddleware object at 0x10a5af4d0>>
                     └ <app.core.middleware.RequestLoggerMiddleware object at 0x10a5af4d0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 24, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x10a634050>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a5eb380>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ OperationalError('(sqlite3.OperationalError) unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a5eb7e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a5eb920>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <app.core.middleware.RateLimitMiddleware object at 0x10a5af230>
          └ <app.core.middleware.RequestLoggerMiddleware object at 0x10a5af4d0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x1095c1da0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [OperationalError('(sqlite3.OperationalError) unable to open database file')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10a60c6c0>
    └ <contextlib._GeneratorContextManager object at 0x10a57fd20>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a66dbc0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10a602710>
                     │    └ <bound method RateLimitMiddleware.dispatch of <app.core.middleware.RateLimitMiddleware object at 0x10a5af230>>
                     └ <app.core.middleware.RateLimitMiddleware object at 0x10a5af230>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 73, in dispatch
    return await call_next(request)
                 │         └ <starlette.middleware.base._CachedRequest object at 0x10a602710>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10a66dbc0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ OperationalError('(sqlite3.OperationalError) unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a66dd00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a66dc60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10a5af0e0>
          └ <app.core.middleware.RateLimitMiddleware object at 0x10a5af230>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a66dd00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a66dc60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a5aef90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10a5af0e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a66dd00>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a66dc60>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x10a635a90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x10a5518b0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a5aef90>
          └ <function wrap_app_handling_exceptions at 0x1095df6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a66e020>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a66dc60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          └ <fastapi.routing.APIRouter object at 0x10a5518b0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a66e020>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a66dc60>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10a5518b0>>
          └ <fastapi.routing.APIRouter object at 0x10a5518b0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a66e020>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a66dc60>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │     └ <function Route.handle at 0x109610f40>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a66e020>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a66dc60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │    └ <function request_response.<locals>.app at 0x10a5e9440>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a66e020>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a66dc60>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x10a603c50>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10a66e0c0>
          └ <function wrap_app_handling_exceptions at 0x1095df6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a66e200>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a66dc60>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8001), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x10a66e0c0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x10a603c50>
                     └ <function get_request_handler.<locals>.app at 0x10a5e93a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x1095deca0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x10a636660>, 'payload': LoginRequest(email='slebronov@mail.ru', password='1...
                 │                 │         └ <function login_user at 0x10a4a7d80>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x10a5a59a0>
                 └ <function run_in_threadpool at 0x108cbe520>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function login_user at 0x10a4a7d80>, db=<sqlalchemy.orm.session.Session object at 0x10a636660>, payload=Lo...
                 │     │         └ <function run_sync at 0x108cf4860>
                 │     └ <module 'anyio.to_thread' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/__init__.py'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x108cbfce0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=OperationalError('(sqlite3.OperationalError) unable to open database file')>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/api/auth.py", line 67, in login_user
    user = db.scalar(select(User).where(User.email == payload.email))
           │  │      │      │           │    │        │       └ 'slebronov@mail.ru'
           │  │      │      │           │    │        └ LoginRequest(email='slebronov@mail.ru', password='12322828')
           │  │      │      │           │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x10a46b420>
           │  │      │      │           └ <class 'app.models.user.User'>
           │  │      │      └ <class 'app.models.user.User'>
           │  │      └ <function select at 0x109b98b80>
           │  └ <function Session.scalar at 0x109f55a80>
           └ <sqlalchemy.orm.session.Session object at 0x10a636660>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x109f554e0>
           └ <sqlalchemy.orm.session.Session object at 0x10a636660>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2226, in _execute_internal
    conn = self._connection_for_bind(bind)
           │    │                    └ Engine(sqlite:///backend/app.db)
           │    └ <function Session._connection_for_bind at 0x109f55260>
           └ <sqlalchemy.orm.session.Session object at 0x10a636660>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2095, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           │     │                    │       └ None
           │     │                    └ Engine(sqlite:///backend/app.db)
           │     └ <function SessionTransaction._connection_for_bind at 0x109f4bba0>
           └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a1d4e10>
  File "<string>", line 2, in _connection_for_bind
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ (Engine(sqlite:///backend/app.db), None)
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a1d4e10>
                └ <function SessionTransaction._connection_for_bind at 0x109f4bb00>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1189, in _connection_for_bind
    conn = bind.connect()
           │    └ <function Engine.connect at 0x109bed440>
           └ Engine(sqlite:///backend/app.db)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 3276, in connect
    return self._connection_cls(self)
           │    │               └ Engine(sqlite:///backend/app.db)
           │    └ <class 'sqlalchemy.engine.base.Connection'>
           └ Engine(sqlite:///backend/app.db)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 148, in __init__
    Connection._handle_dbapi_exception_noconnection(
    │          └ <classmethod(<function Connection._handle_dbapi_exception_noconnection at 0x109beaca0>)>
    └ <class 'sqlalchemy.engine.base.Connection'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2440, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ OperationalError('unable to open database file')
          │                    │              └ (<class 'sqlite3.OperationalError'>, OperationalError('unable to open database file'), <traceback object at 0x10a780fc0>)
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('(sqlite3.OperationalError) unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
    │                        │      └ <function Engine.raw_connection at 0x109bed4e0>
    │                        └ Engine(sqlite:///backend/app.db)
    └ <sqlalchemy.engine.base.Connection object at 0x10a636900>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 3300, in raw_connection
    return self.pool.connect()
           │    │    └ <function Pool.connect at 0x1097ae980>
           │    └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
           └ Engine(sqlite:///backend/app.db)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
           │                │         └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
           │                └ <classmethod(<function _ConnectionFairy._checkout at 0x1097d8ae0>)>
           └ <class 'sqlalchemy.pool.base._ConnectionFairy'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            │                 │        └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
            │                 └ <classmethod(<function _ConnectionRecord.checkout at 0x1097af600>)>
            └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
          │    └ <function QueuePool._do_get at 0x1097daa20>
          └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/ut...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x10a780e00>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
           │    └ <function Pool._create_connection at 0x1097ae700>
           └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
           │                 └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
           └ <class 'sqlalchemy.pool.base._ConnectionRecord'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x10a23b890>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/ut...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0x10a780d00>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ OperationalError('unable to open database file')
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
    │    │                               │    │               └ <sqlalchemy.pool.base._ConnectionRecord object at 0x10a23b890>
    │    │                               │    └ <function create_engine.<locals>.connect at 0x10a0caca0>
    │    │                               └ <sqlalchemy.pool.impl.QueuePool object at 0x10a0e4c20>
    │    └ <member 'dbapi_connection' of '_ConnectionRecord' objects>
    └ <sqlalchemy.pool.base._ConnectionRecord object at 0x10a23b890>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           │       │        │        └ {'check_same_thread': False}
           │       │        └ ['/Users/roksana/Desktop/project/ugc_mp/backend/backend/app.db']
           │       └ <function DefaultDialect.connect at 0x109c9a2a0>
           └ <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x10a0e4830>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 620, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           │    │            │        │        └ {'check_same_thread': False}
           │    │            │        └ ('/Users/roksana/Desktop/project/ugc_mp/backend/backend/app.db',)
           │    │            └ <built-in function connect>
           │    └ <module 'sqlite3.dbapi2' from '/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3....
           └ <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x10a0e4830>

sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) unable to open database file
(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-10-16 19:04:37] INFO — [REQUEST] GET / from 127.0.0.1 -> 404 (0.39 ms)
[2025-10-16 19:04:48] INFO — [REQUEST] POST /api/auth/login from 127.0.0.1 -> 401 (21.56 ms)
[2025-10-16 19:05:19] INFO — [REQUEST] GET /docs from 127.0.0.1 -> 200 (5.36 ms)
[2025-10-16 19:05:19] INFO — [REQUEST] GET /openapi.json from 127.0.0.1 -> 200 (35.66 ms)
[2025-10-16 19:05:43] INFO — [REQUEST] POST /api/auth/register from 127.0.0.1 -> 201 (6.77 ms)
[2025-10-16 19:06:51] INFO — [REQUEST] POST /api/auth/login from 127.0.0.1 -> 200 (2.31 ms)
[2025-10-16 19:07:18] INFO — [REQUEST] GET /api/notifications from 127.0.0.1 -> 200 (16.49 ms)
[2025-10-16 19:09:09] INFO — [REQUEST] POST /api/auth/refresh from 127.0.0.1 -> 401 (3.06 ms)
[2025-10-16 19:10:27] INFO — [REQUEST] GET /docs from 127.0.0.1 -> 200 (1.99 ms)
[2025-10-16 19:10:27] INFO — [REQUEST] GET /openapi.json from 127.0.0.1 -> 200 (0.91 ms)
[2025-10-17 01:05:59] INFO — [REQUEST] GET /docs from 127.0.0.1 -> 200 (1.46 ms)
[2025-10-17 01:06:00] INFO — [REQUEST] GET /openapi.json from 127.0.0.1 -> 200 (0.76 ms)
[2025-10-17 01:46:02] INFO — [REQUEST] GET /docs from 127.0.0.1 -> 200 (1.25 ms)
[2025-10-17 01:46:02] INFO — [REQUEST] GET /openapi.json from 127.0.0.1 -> 200 (20.58 ms)
[2025-10-17 01:51:49] ERROR — Unhandled exception at %s
Traceback (most recent call last):

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1609, in _object_value_for_elem
    return self._object_lookup[elem]
           │    │              └ 'none'
           │    └ {'NONE': <AdminLevel.NONE: 'none'>, 'ADMIN_LEVEL_1': <AdminLevel.ADMIN_LEVEL_1: 'admin_level_1'>, 'ADMIN_LEVEL_2': <AdminLeve...
           └ Enum('NONE', 'ADMIN_LEVEL_1', 'ADMIN_LEVEL_2', 'ADMIN_LEVEL_3', name='admin_level', _create_events=False)

KeyError: 'none'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x109f979c0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x109e84180>
           └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x109e776a0>
    └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10a6b1be0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>
    │    └ <function subprocess_started at 0x10a6b4220>
    └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10a6b1d30>>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
           │       │   │    └ <function Server.serve at 0x10a6a7240>
           │       │   └ <uvicorn.server.Server object at 0x10a6b1d30>
           │       └ <function run at 0x10a374cc0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyn...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10a6f52a0>
           │      └ <function Runner.run at 0x10a458040>
           └ <asyncio.runners.Runner object at 0x10a6b2a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10a451a80>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10a6b2a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10a4519e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10a4537e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 2050, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10a375c60>
    └ <Handle Task.task_wakeup()>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ca870e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 69, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb4b750>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb4b750>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10ca85550>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ca870e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb4b750>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb4b750>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb4b750>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb4b750>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca87e00>
          └ <fastapi.applications.FastAPI object at 0x10ca85550>
> File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cb4f920>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb4b750>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca87e00>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cb641e0>
    └ <contextlib._GeneratorContextManager object at 0x10cae79a0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cb4fec0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10cadff00>
                     │    └ <bound method AdminActionMiddleware.dispatch of <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>>
                     └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 102, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x10cadff00>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cb4fec0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10cbba5c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cb4ff60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>
          └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cb64380>
    └ <contextlib._GeneratorContextManager object at 0x10cae7070>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cbba2a0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10cadee00>
                     │    └ <bound method RequestLoggerMiddleware.dispatch of <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>>
                     └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 25, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x10cadee00>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cbba2a0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10cbba480>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbba8e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>
          └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cb65e50>
    └ <contextlib._GeneratorContextManager object at 0x10cb87bd0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cbba660>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10cb46150>
                     │    └ <bound method RateLimitMiddleware.dispatch of <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>>
                     └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 74, in dispatch
    return await call_next(request)
                 │         └ <starlette.middleware.base._CachedRequest object at 0x10cb46150>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cbba660>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10cbbbf60>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbbbec0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
          └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10cbbbf60>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbbbec0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10ca87620>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10cbbbf60>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbbbec0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x10cabb5c0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10ca87620>
          └ <function wrap_app_handling_exceptions at 0x10ba8b6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10cbbaac0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbbbec0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10cbbaac0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbbbec0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10cabe4e0>>
          └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10cbbaac0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbbbec0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │     └ <function Route.handle at 0x10babcf40>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10cbbaac0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbbbec0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cb4cc20>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10cbbaac0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbbbec0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x10cb27bf0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10cbbab60>
          └ <function wrap_app_handling_exceptions at 0x10ba8b6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10cbbaca0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbbbec0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x10cbbab60>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x10cb27bf0>
                     └ <function get_request_handler.<locals>.app at 0x10cb4cb80>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10ba8aca0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x10cb6e120>, 'payload': LoginRequest(email='slebronov@mail.ru', password='1...
                 │                 │         └ <function login_user at 0x10c985620>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x10cabf4d0>
                 └ <function run_in_threadpool at 0x10b19a520>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function login_user at 0x10c985620>, db=<sqlalchemy.orm.session.Session object at 0x10cb6e120>, payload=Lo...
                 │     │         └ <function run_sync at 0x10b1d0860>
                 │     └ <module 'anyio.to_thread' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/__init__.py'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x10b19bce0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values:...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/api/auth.py", line 70, in login_user
    user = db.scalar(select(User).where(User.email == payload.email))
           │  │      │      │           │    │        │       └ 'slebronov@mail.ru'
           │  │      │      │           │    │        └ LoginRequest(email='slebronov@mail.ru', password='12322828')
           │  │      │      │           │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x10c917920>
           │  │      │      │           └ <class 'app.models.user.User'>
           │  │      │      └ <class 'app.models.user.User'>
           │  │      └ <function select at 0x10c044ae0>
           │  └ <function Session.scalar at 0x10c4019e0>
           └ <sqlalchemy.orm.session.Session object at 0x10cb6e120>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x10c401440>
           └ <sqlalchemy.orm.session.Session object at 0x10cb6e120>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2250, in _execute_internal
    return result.scalar()
           │      └ <function Result.scalar at 0x10c10df80>
           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10cbcf8d0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 1544, in scalar
    return self._only_one_row(
           │    └ <function ResultInternal._only_one_row at 0x10c10bd80>
           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10cbcf8d0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
         │        │               │       └ <bound method IteratorResult._fetchone_impl of <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10cbcf8d0>>
         │        │               └ typing.Any
         │        └ typing.Union[~_R, typing.Tuple[typing.Any, ...]]
         └ typing.Optional
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
               │    │         └ <_NoRow._NO_ROW: 0>
               │    └ <itertools.chain object at 0x10c5935b0>
               └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10cbcf8d0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            │      └ <function ResultInternal._raw_all_rows at 0x10c10b920>
            └ <sqlalchemy.engine.cursor.CursorResult object at 0x10cb867b0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            │                        └ [('16259c0ce7b34ed995fc5779c0e6c0fc', 'slebronov@mail.ru', 'e0ea031c46b22703cc404e573945e2d85d5bf6f74b88999038add119dab7cf00'...
            └ functools.partial(<class 'sqlalchemy.engine.row.Row'>, <sqlalchemy.engine.cursor.CursorResultMetaData object at 0x10cb85c40>,...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/_py_row.py", line 56, in __init__
    proc(value) if proc else value
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1729, in process
    value = self._object_value_for_elem(value)
            │    │                      └ 'none'
            │    └ <function Enum._object_value_for_elem at 0x10bf88c20>
            └ Enum('NONE', 'ADMIN_LEVEL_1', 'ADMIN_LEVEL_2', 'ADMIN_LEVEL_3', name='admin_level', _create_events=False)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1611, in _object_value_for_elem
    raise LookupError(

LookupError: 'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN_LEVEL.., ADMIN_LEVEL..
[2025-10-17 01:52:47] ERROR — Unhandled exception at %s
Traceback (most recent call last):

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1609, in _object_value_for_elem
    return self._object_lookup[elem]
           │    │              └ 'none'
           │    └ {'NONE': <AdminLevel.NONE: 'none'>, 'ADMIN_LEVEL_1': <AdminLevel.ADMIN_LEVEL_1: 'admin_level_1'>, 'ADMIN_LEVEL_2': <AdminLeve...
           └ Enum('NONE', 'ADMIN_LEVEL_1', 'ADMIN_LEVEL_2', 'ADMIN_LEVEL_3', name='admin_level', _create_events=False)

KeyError: 'none'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x109f979c0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x109e84180>
           └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x109e776a0>
    └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10a6b1be0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>
    │    └ <function subprocess_started at 0x10a6b4220>
    └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10a6b1d30>>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
           │       │   │    └ <function Server.serve at 0x10a6a7240>
           │       │   └ <uvicorn.server.Server object at 0x10a6b1d30>
           │       └ <function run at 0x10a374cc0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyn...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10a6f52a0>
           │      └ <function Runner.run at 0x10a458040>
           └ <asyncio.runners.Runner object at 0x10a6b2a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10a451a80>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10a6b2a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10a4519e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10a4537e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 2050, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10a375c60>
    └ <Handle Task.task_wakeup()>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ca870e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 69, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb97820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb97820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10ca85550>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ca870e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb97820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb97820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb97820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb97820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca87e00>
          └ <fastapi.applications.FastAPI object at 0x10ca85550>
> File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbd3b00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cb97820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca87e00>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf45be0>
    └ <contextlib._GeneratorContextManager object at 0x10cb87af0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cbd39c0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10cb93750>
                     │    └ <bound method AdminActionMiddleware.dispatch of <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>>
                     └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 102, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x10cb93750>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cbd39c0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10cbd3920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbd3880>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>
          └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf45cb0>
    └ <contextlib._GeneratorContextManager object at 0x10cb85390>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cbd3ce0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10cf1d040>
                     │    └ <bound method RequestLoggerMiddleware.dispatch of <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>>
                     └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 25, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x10cf1d040>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cbd3ce0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10cbd3e20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10cbd3d80>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>
          └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf458a0>
    └ <contextlib._GeneratorContextManager object at 0x10cf59c50>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10ac7b1a0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10cf1d7c0>
                     │    └ <bound method RateLimitMiddleware.dispatch of <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>>
                     └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 74, in dispatch
    return await call_next(request)
                 │         └ <starlette.middleware.base._CachedRequest object at 0x10cf1d7c0>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10ac7b1a0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d054220>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d054180>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
          └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d054220>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d054180>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10ca87620>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d054220>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d054180>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x10cbf19d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10ca87620>
          └ <function wrap_app_handling_exceptions at 0x10ba8b6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d054540>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d054180>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d054540>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d054180>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10cabe4e0>>
          └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d054540>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d054180>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │     └ <function Route.handle at 0x10babcf40>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d054540>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d054180>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cb4cc20>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d054540>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d054180>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x10d050250>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10d0545e0>
          └ <function wrap_app_handling_exceptions at 0x10ba8b6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d054720>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d054180>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x10d0545e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x10d050250>
                     └ <function get_request_handler.<locals>.app at 0x10cb4cb80>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10ba8aca0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x10cb8a350>, 'payload': LoginRequest(email='slebronov@mail.ru', password='1...
                 │                 │         └ <function login_user at 0x10c985620>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x10cabf4d0>
                 └ <function run_in_threadpool at 0x10b19a520>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function login_user at 0x10c985620>, db=<sqlalchemy.orm.session.Session object at 0x10cb8a350>, payload=Lo...
                 │     │         └ <function run_sync at 0x10b1d0860>
                 │     └ <module 'anyio.to_thread' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/__init__.py'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x10b19bce0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values:...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/api/auth.py", line 70, in login_user
    user = db.scalar(select(User).where(User.email == payload.email))
           │  │      │      │           │    │        │       └ 'slebronov@mail.ru'
           │  │      │      │           │    │        └ LoginRequest(email='slebronov@mail.ru', password='12322828')
           │  │      │      │           │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x10c917920>
           │  │      │      │           └ <class 'app.models.user.User'>
           │  │      │      └ <class 'app.models.user.User'>
           │  │      └ <function select at 0x10c044ae0>
           │  └ <function Session.scalar at 0x10c4019e0>
           └ <sqlalchemy.orm.session.Session object at 0x10cb8a350>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x10c401440>
           └ <sqlalchemy.orm.session.Session object at 0x10cb8a350>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2250, in _execute_internal
    return result.scalar()
           │      └ <function Result.scalar at 0x10c10df80>
           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d05ca10>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 1544, in scalar
    return self._only_one_row(
           │    └ <function ResultInternal._only_one_row at 0x10c10bd80>
           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d05ca10>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
         │        │               │       └ <bound method IteratorResult._fetchone_impl of <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d05ca10>>
         │        │               └ typing.Any
         │        └ typing.Union[~_R, typing.Tuple[typing.Any, ...]]
         └ typing.Optional
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
               │    │         └ <_NoRow._NO_ROW: 0>
               │    └ <itertools.chain object at 0x10d0647f0>
               └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d05ca10>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            │      └ <function ResultInternal._raw_all_rows at 0x10c10b920>
            └ <sqlalchemy.engine.cursor.CursorResult object at 0x10d042120>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            │                        └ [('16259c0ce7b34ed995fc5779c0e6c0fc', 'slebronov@mail.ru', 'e0ea031c46b22703cc404e573945e2d85d5bf6f74b88999038add119dab7cf00'...
            └ functools.partial(<class 'sqlalchemy.engine.row.Row'>, <sqlalchemy.engine.cursor.CursorResultMetaData object at 0x10cb85c40>,...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/_py_row.py", line 56, in __init__
    proc(value) if proc else value
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1729, in process
    value = self._object_value_for_elem(value)
            │    │                      └ 'none'
            │    └ <function Enum._object_value_for_elem at 0x10bf88c20>
            └ Enum('NONE', 'ADMIN_LEVEL_1', 'ADMIN_LEVEL_2', 'ADMIN_LEVEL_3', name='admin_level', _create_events=False)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1611, in _object_value_for_elem
    raise LookupError(

LookupError: 'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN_LEVEL.., ADMIN_LEVEL..
[2025-10-17 01:53:09] INFO — [REQUEST] GET /docs from 127.0.0.1 -> 200 (0.65 ms)
[2025-10-17 01:53:09] INFO — [REQUEST] GET /openapi.json from 127.0.0.1 -> 200 (0.99 ms)
[2025-10-17 02:03:02] ERROR — Unhandled exception at %s
Traceback (most recent call last):

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1609, in _object_value_for_elem
    return self._object_lookup[elem]
           │    │              └ 'none'
           │    └ {'NONE': <AdminLevel.NONE: 'none'>, 'ADMIN_LEVEL_1': <AdminLevel.ADMIN_LEVEL_1: 'admin_level_1'>, 'ADMIN_LEVEL_2': <AdminLeve...
           └ Enum('NONE', 'ADMIN_LEVEL_1', 'ADMIN_LEVEL_2', 'ADMIN_LEVEL_3', name='admin_level', _create_events=False)

KeyError: 'none'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x109f979c0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x109e84180>
           └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x109e776a0>
    └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10a6b1be0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>
    │    └ <function subprocess_started at 0x10a6b4220>
    └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10a6b1d30>>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
           │       │   │    └ <function Server.serve at 0x10a6a7240>
           │       │   └ <uvicorn.server.Server object at 0x10a6b1d30>
           │       └ <function run at 0x10a374cc0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyn...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10a6f52a0>
           │      └ <function Runner.run at 0x10a458040>
           └ <asyncio.runners.Runner object at 0x10a6b2a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10a451a80>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10a6b2a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10a4519e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10a4537e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 2050, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10a375c60>
    └ <Handle Task.task_wakeup()>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ca870e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 69, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf2470>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf2470>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10ca85550>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ca870e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf2470>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf2470>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf2470>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf2470>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca87e00>
          └ <fastapi.applications.FastAPI object at 0x10ca85550>
> File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbd3a60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf2470>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca87e00>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf46a80>
    └ <contextlib._GeneratorContextManager object at 0x10d043310>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d054360>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10ce75650>
                     │    └ <bound method AdminActionMiddleware.dispatch of <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>>
                     └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 102, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x10ce75650>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d054360>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d055260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d055620>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>
          └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf46dc0>
    └ <contextlib._GeneratorContextManager object at 0x10d043b60>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d055a80>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10d055d10>
                     │    └ <bound method RequestLoggerMiddleware.dispatch of <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>>
                     └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 25, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x10d055d10>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d055a80>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d056480>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d055bc0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>
          └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf45630>
    └ <contextlib._GeneratorContextManager object at 0x10d043a80>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d056160>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10d0560d0>
                     │    └ <bound method RateLimitMiddleware.dispatch of <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>>
                     └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 74, in dispatch
    return await call_next(request)
                 │         └ <starlette.middleware.base._CachedRequest object at 0x10d0560d0>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d056160>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d056200>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056020>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
          └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8002', 'connection': 'keep-alive', 'content-length': '60', 'sec-ch-ua-platform': '"macOS"', 'user...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d056200>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056020>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10cae3100>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>>, sen...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056020>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10ca87620>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>>, sen...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056020>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x10cf468f0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10ca87620>
          └ <function wrap_app_handling_exceptions at 0x10ba8b6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d0568e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056020>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d0568e0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056020>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10cabe4e0>>
          └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d0568e0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056020>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │     └ <function Route.handle at 0x10babcf40>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d0568e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056020>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cb4cc20>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d0568e0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056020>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x10d058e90>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10d056980>
          └ <function wrap_app_handling_exceptions at 0x10ba8b6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d056ac0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056020>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x10d056980>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x10d058e90>
                     └ <function get_request_handler.<locals>.app at 0x10cb4cb80>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10ba8aca0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x10cb8ae90>, 'payload': LoginRequest(email='slebronov@mail.ru', password='1...
                 │                 │         └ <function login_user at 0x10c985620>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x10cabf4d0>
                 └ <function run_in_threadpool at 0x10b19a520>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function login_user at 0x10c985620>, db=<sqlalchemy.orm.session.Session object at 0x10cb8ae90>, payload=Lo...
                 │     │         └ <function run_sync at 0x10b1d0860>
                 │     └ <module 'anyio.to_thread' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/__init__.py'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x10b19bce0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values:...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/api/auth.py", line 70, in login_user
    user = db.scalar(select(User).where(User.email == payload.email))
           │  │      │      │           │    │        │       └ 'slebronov@mail.ru'
           │  │      │      │           │    │        └ LoginRequest(email='slebronov@mail.ru', password='12322828')
           │  │      │      │           │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x10c917920>
           │  │      │      │           └ <class 'app.models.user.User'>
           │  │      │      └ <class 'app.models.user.User'>
           │  │      └ <function select at 0x10c044ae0>
           │  └ <function Session.scalar at 0x10c4019e0>
           └ <sqlalchemy.orm.session.Session object at 0x10cb8ae90>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x10c401440>
           └ <sqlalchemy.orm.session.Session object at 0x10cb8ae90>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2250, in _execute_internal
    return result.scalar()
           │      └ <function Result.scalar at 0x10c10df80>
           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10cd6c650>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 1544, in scalar
    return self._only_one_row(
           │    └ <function ResultInternal._only_one_row at 0x10c10bd80>
           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10cd6c650>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
         │        │               │       └ <bound method IteratorResult._fetchone_impl of <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10cd6c650>>
         │        │               └ typing.Any
         │        └ typing.Union[~_R, typing.Tuple[typing.Any, ...]]
         └ typing.Optional
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
               │    │         └ <_NoRow._NO_ROW: 0>
               │    └ <itertools.chain object at 0x10cde3010>
               └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10cd6c650>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            │      └ <function ResultInternal._raw_all_rows at 0x10c10b920>
            └ <sqlalchemy.engine.cursor.CursorResult object at 0x10cb87150>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            │                        └ [('16259c0ce7b34ed995fc5779c0e6c0fc', 'slebronov@mail.ru', 'e0ea031c46b22703cc404e573945e2d85d5bf6f74b88999038add119dab7cf00'...
            └ functools.partial(<class 'sqlalchemy.engine.row.Row'>, <sqlalchemy.engine.cursor.CursorResultMetaData object at 0x10cb85c40>,...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/_py_row.py", line 56, in __init__
    proc(value) if proc else value
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1729, in process
    value = self._object_value_for_elem(value)
            │    │                      └ 'none'
            │    └ <function Enum._object_value_for_elem at 0x10bf88c20>
            └ Enum('NONE', 'ADMIN_LEVEL_1', 'ADMIN_LEVEL_2', 'ADMIN_LEVEL_3', name='admin_level', _create_events=False)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1611, in _object_value_for_elem
    raise LookupError(

LookupError: 'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN_LEVEL.., ADMIN_LEVEL..
[2025-10-17 02:03:25] ERROR — Unhandled exception at %s
Traceback (most recent call last):

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1609, in _object_value_for_elem
    return self._object_lookup[elem]
           │    │              └ 'none'
           │    └ {'NONE': <AdminLevel.NONE: 'none'>, 'ADMIN_LEVEL_1': <AdminLevel.ADMIN_LEVEL_1: 'admin_level_1'>, 'ADMIN_LEVEL_2': <AdminLeve...
           └ Enum('NONE', 'ADMIN_LEVEL_1', 'ADMIN_LEVEL_2', 'ADMIN_LEVEL_3', name='admin_level', _create_events=False)

KeyError: 'none'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x109f979c0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x109e84180>
           └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x109e776a0>
    └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10a6b1be0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>
    │    └ <function subprocess_started at 0x10a6b4220>
    └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10a6b1d30>>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
           │       │   │    └ <function Server.serve at 0x10a6a7240>
           │       │   └ <uvicorn.server.Server object at 0x10a6b1d30>
           │       └ <function run at 0x10a374cc0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyn...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10a6f52a0>
           │      └ <function Runner.run at 0x10a458040>
           └ <asyncio.runners.Runner object at 0x10a6b2a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10a451a80>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10a6b2a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10a4519e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10a4537e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 2050, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10a375c60>
    └ <Handle Task.task_wakeup()>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ca870e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 69, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf1e10>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf1e10>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10ca85550>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ca870e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf1e10>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf1e10>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf1e10>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf1e10>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca87e00>
          └ <fastapi.applications.FastAPI object at 0x10ca85550>
> File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cbd3ce0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10cbf1e10>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca87e00>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf457d0>
    └ <contextlib._GeneratorContextManager object at 0x10cf8f0e0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cbd3c40>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10cbd3d90>
                     │    └ <bound method AdminActionMiddleware.dispatch of <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>>
                     └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 102, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x10cbd3d90>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10cbd3c40>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d0562a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d055c60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>
          └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf45a40>
    └ <contextlib._GeneratorContextManager object at 0x10cee3bd0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d055580>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10d056710>
                     │    └ <bound method RequestLoggerMiddleware.dispatch of <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>>
                     └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 25, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x10d056710>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d055580>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d0572e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d057380>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>
          └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf45e50>
    └ <contextlib._GeneratorContextManager object at 0x10d043930>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d056de0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10cbbadf0>
                     │    └ <bound method RateLimitMiddleware.dispatch of <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>>
                     └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 74, in dispatch
    return await call_next(request)
                 │         └ <starlette.middleware.base._CachedRequest object at 0x10cbbadf0>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d056de0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d056f20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056d40>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
          └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8002', 'connection': 'keep-alive', 'content-length': '60', 'sec-ch-ua-platform': '"macOS"', 'user...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d056f20>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056d40>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x10cae3100>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>>, sen...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056d40>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10ca87620>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>>, sen...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056d40>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x10ce76150>
          │                            │    └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10ca87620>
          └ <function wrap_app_handling_exceptions at 0x10ba8b6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d055080>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056d40>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d055080>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056d40>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10cabe4e0>>
          └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d055080>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056d40>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │     └ <function Route.handle at 0x10babcf40>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d055080>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056d40>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cb4cc20>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d055080>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056d40>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x10ce759c0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10d055120>
          └ <function wrap_app_handling_exceptions at 0x10ba8b6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d054040>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d056d40>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x10d055120>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x10ce759c0>
                     └ <function get_request_handler.<locals>.app at 0x10cb4cb80>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10ba8aca0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x10d0610f0>, 'payload': LoginRequest(email='slebronov@mail.ru', password='1...
                 │                 │         └ <function login_user at 0x10c985620>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x10cabf4d0>
                 └ <function run_in_threadpool at 0x10b19a520>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function login_user at 0x10c985620>, db=<sqlalchemy.orm.session.Session object at 0x10d0610f0>, payload=Lo...
                 │     │         └ <function run_sync at 0x10b1d0860>
                 │     └ <module 'anyio.to_thread' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/__init__.py'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x10b19bce0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values:...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/api/auth.py", line 70, in login_user
    user = db.scalar(select(User).where(User.email == payload.email))
           │  │      │      │           │    │        │       └ 'slebronov@mail.ru'
           │  │      │      │           │    │        └ LoginRequest(email='slebronov@mail.ru', password='12322828')
           │  │      │      │           │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x10c917920>
           │  │      │      │           └ <class 'app.models.user.User'>
           │  │      │      └ <class 'app.models.user.User'>
           │  │      └ <function select at 0x10c044ae0>
           │  └ <function Session.scalar at 0x10c4019e0>
           └ <sqlalchemy.orm.session.Session object at 0x10d0610f0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x10c401440>
           └ <sqlalchemy.orm.session.Session object at 0x10d0610f0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2250, in _execute_internal
    return result.scalar()
           │      └ <function Result.scalar at 0x10c10df80>
           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d071990>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 1544, in scalar
    return self._only_one_row(
           │    └ <function ResultInternal._only_one_row at 0x10c10bd80>
           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d071990>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
         │        │               │       └ <bound method IteratorResult._fetchone_impl of <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d071990>>
         │        │               └ typing.Any
         │        └ typing.Union[~_R, typing.Tuple[typing.Any, ...]]
         └ typing.Optional
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
               │    │         └ <_NoRow._NO_ROW: 0>
               │    └ <itertools.chain object at 0x10d065330>
               └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d071990>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            │      └ <function ResultInternal._raw_all_rows at 0x10c10b920>
            └ <sqlalchemy.engine.cursor.CursorResult object at 0x10d042740>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            │                        └ [('16259c0ce7b34ed995fc5779c0e6c0fc', 'slebronov@mail.ru', 'e0ea031c46b22703cc404e573945e2d85d5bf6f74b88999038add119dab7cf00'...
            └ functools.partial(<class 'sqlalchemy.engine.row.Row'>, <sqlalchemy.engine.cursor.CursorResultMetaData object at 0x10cb85c40>,...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/_py_row.py", line 56, in __init__
    proc(value) if proc else value
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1729, in process
    value = self._object_value_for_elem(value)
            │    │                      └ 'none'
            │    └ <function Enum._object_value_for_elem at 0x10bf88c20>
            └ Enum('NONE', 'ADMIN_LEVEL_1', 'ADMIN_LEVEL_2', 'ADMIN_LEVEL_3', name='admin_level', _create_events=False)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1611, in _object_value_for_elem
    raise LookupError(

LookupError: 'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN_LEVEL.., ADMIN_LEVEL..
[2025-10-17 02:06:50] ERROR — Unhandled exception at %s
Traceback (most recent call last):

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1609, in _object_value_for_elem
    return self._object_lookup[elem]
           │    │              └ 'none'
           │    └ {'NONE': <AdminLevel.NONE: 'none'>, 'ADMIN_LEVEL_1': <AdminLevel.ADMIN_LEVEL_1: 'admin_level_1'>, 'ADMIN_LEVEL_2': <AdminLeve...
           └ Enum('NONE', 'ADMIN_LEVEL_1', 'ADMIN_LEVEL_2', 'ADMIN_LEVEL_3', name='admin_level', _create_events=False)

KeyError: 'none'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x109f979c0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x109e84180>
           └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x109e776a0>
    └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10a6b1be0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>
    │    └ <function subprocess_started at 0x10a6b4220>
    └ <SpawnProcess name='SpawnProcess-1' parent=45806 started>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10a6b1d30>>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
           │       │   │    └ <function Server.serve at 0x10a6a7240>
           │       │   └ <uvicorn.server.Server object at 0x10a6b1d30>
           │       └ <function run at 0x10a374cc0>
           └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyn...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10a6f52a0>
           │      └ <function Runner.run at 0x10a458040>
           └ <asyncio.runners.Runner object at 0x10a6b2a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10a451a80>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10a6b2a50>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 712, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10a4519e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 683, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10a4537e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 2050, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10a375c60>
    └ <Handle Task.task_wakeup()>

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ca870e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 69, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d051050>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d051050>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10ca85550>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10ca870e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d051050>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d051050>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d051050>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d051050>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca87e00>
          └ <fastapi.applications.FastAPI object at 0x10ca85550>
> File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10d056e80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10d051050>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10ca87e00>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf476b0>
    └ <contextlib._GeneratorContextManager object at 0x10d043a10>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d0554e0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10d056fd0>
                     │    └ <bound method AdminActionMiddleware.dispatch of <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>>
                     └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 102, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x10d056fd0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d0554e0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d054a40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d0571a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>
          └ <app.core.middleware.AdminActionMiddleware object at 0x10ca87cb0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf47510>
    └ <contextlib._GeneratorContextManager object at 0x10d043620>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d0553a0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10d054730>
                     │    └ <bound method RequestLoggerMiddleware.dispatch of <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>>
                     └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 25, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0x10d054730>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d0553a0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d0547c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d055440>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>
          └ <app.core.middleware.RequestLoggerMiddleware object at 0x10ca87b60>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10ba6dda0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [LookupError("'none' is not among the defined enum values. Enum name: admin...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10cf46cf0>
    └ <contextlib._GeneratorContextManager object at 0x10d042120>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d057420>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10d054d70>
                     │    └ <bound method RateLimitMiddleware.dispatch of <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>>
                     └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/core/middleware.py", line 74, in dispatch
    return await call_next(request)
                 │         └ <starlette.middleware.base._CachedRequest object at 0x10d054d70>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10d057420>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 159, in call_next
    raise app_exc
          └ LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d057560>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d0574c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
          └ <app.core.middleware.RateLimitMiddleware object at 0x10ca878c0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d057560>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d0574c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10ca87620>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10ca87770>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10d057560>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d0574c0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x10ce75e90>
          │                            │    └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10ca87620>
          └ <function wrap_app_handling_exceptions at 0x10ba8b6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d057880>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d0574c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d057880>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d0574c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10cabe4e0>>
          └ <fastapi.routing.APIRouter object at 0x10cabe4e0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d057880>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d0574c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │     └ <function Route.handle at 0x10babcf40>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d057880>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d0574c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <function request_response.<locals>.app at 0x10cb4cc20>
          └ APIRoute(path='/api/auth/login', name='login_user', methods=['POST'])
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d057880>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d0574c0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x10ce762b0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10d057920>
          └ <function wrap_app_handling_exceptions at 0x10ba8b6a0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10d057a60>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10d0574c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x10d057920>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x10ce762b0>
                     └ <function get_request_handler.<locals>.app at 0x10cb4cb80>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10ba8aca0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'db': <sqlalchemy.orm.session.Session object at 0x10d062d70>, 'payload': LoginRequest(email='slebronov@mail.ru', password='1...
                 │                 │         └ <function login_user at 0x10c985620>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x10cabf4d0>
                 └ <function run_in_threadpool at 0x10b19a520>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
                 │     │         │        └ functools.partial(<function login_user at 0x10c985620>, db=<sqlalchemy.orm.session.Session object at 0x10d062d70>, payload=Lo...
                 │     │         └ <function run_sync at 0x10b1d0860>
                 │     └ <module 'anyio.to_thread' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/__init__.py'>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
                 └ <function get_async_backend at 0x10b19bce0>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=LookupError("'none' is not among the defined enum values. Enum name: admin_level. Possible values:...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)

  File "/Users/roksana/Desktop/project/ugc_mp/backend/app/api/auth.py", line 70, in login_user
    user = db.scalar(select(User).where(User.email == payload.email))
           │  │      │      │           │    │        │       └ 'slebronov@mail.ru'
           │  │      │      │           │    │        └ LoginRequest(email='slebronov@mail.ru', password='12322828')
           │  │      │      │           │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x10c917920>
           │  │      │      │           └ <class 'app.models.user.User'>
           │  │      │      └ <class 'app.models.user.User'>
           │  │      └ <function select at 0x10c044ae0>
           │  └ <function Session.scalar at 0x10c4019e0>
           └ <sqlalchemy.orm.session.Session object at 0x10d062d70>

  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2399, in scalar
    return self._execute_internal(
           │    └ <function Session._execute_internal at 0x10c401440>
           └ <sqlalchemy.orm.session.Session object at 0x10d062d70>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2250, in _execute_internal
    return result.scalar()
           │      └ <function Result.scalar at 0x10c10df80>
           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d079910>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 1544, in scalar
    return self._only_one_row(
           │    └ <function ResultInternal._only_one_row at 0x10c10bd80>
           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d079910>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
         │        │               │       └ <bound method IteratorResult._fetchone_impl of <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d079910>>
         │        │               └ typing.Any
         │        └ typing.Union[~_R, typing.Tuple[typing.Any, ...]]
         └ typing.Optional
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
               │    │         └ <_NoRow._NO_ROW: 0>
               │    └ <itertools.chain object at 0x10d084a30>
               └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x10d079910>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            │      └ <function ResultInternal._raw_all_rows at 0x10c10b920>
            └ <sqlalchemy.engine.cursor.CursorResult object at 0x10d043d20>
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            │                        └ [('16259c0ce7b34ed995fc5779c0e6c0fc', 'slebronov@mail.ru', 'e0ea031c46b22703cc404e573945e2d85d5bf6f74b88999038add119dab7cf00'...
            └ functools.partial(<class 'sqlalchemy.engine.row.Row'>, <sqlalchemy.engine.cursor.CursorResultMetaData object at 0x10cb85c40>,...
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/_py_row.py", line 56, in __init__
    proc(value) if proc else value
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1729, in process
    value = self._object_value_for_elem(value)
            │    │                      └ 'none'
            │    └ <function Enum._object_value_for_elem at 0x10bf88c20>
            └ Enum('NONE', 'ADMIN_LEVEL_1', 'ADMIN_LEVEL_2', 'ADMIN_LEVEL_3', name='admin_level', _create_events=False)
  File "/Users/roksana/Desktop/project/ugc_mp/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1611, in _object_value_for_elem
    raise LookupError(

LookupError: 'none' is not among the defined enum values. Enum name: admin_level. Possible values: NONE, ADMIN_LEVEL.., ADMIN_LEVEL.., ADMIN_LEVEL..
[2025-10-17 02:14:09] INFO — [REQUEST] POST /api/auth/login from 127.0.0.1 -> 200 (36.39 ms)
[2025-10-17 02:19:17] INFO — [REQUEST] GET /docs from 127.0.0.1 -> 200 (1.81 ms)
[2025-10-17 02:19:17] INFO — [REQUEST] GET /openapi.json from 127.0.0.1 -> 200 (41.56 ms)
